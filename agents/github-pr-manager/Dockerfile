# GitHub PR Manager Agent System\nFROM node:18-alpine\n\n# Set working directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apk add --no-cache git curl\n\n# Copy package files\nCOPY package*.json ./\nCOPY tsconfig.json ./\n\n# Install dependencies\nRUN npm ci --only=production\n\n# Copy source code\nCOPY . .\n\n# Build TypeScript\nRUN npm run build\n\n# Create non-root user\nRUN addgroup -g 1001 -S nodejs\nRUN adduser -S github-agent -u 1001\n\n# Change ownership of app directory\nRUN chown -R github-agent:nodejs /app\n\n# Switch to non-root user\nUSER github-agent\n\n# Expose port\nEXPOSE 3000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD curl -f http://localhost:3000/health || exit 1\n\n# Start the application\nCMD [\"npm\", \"start\"]"